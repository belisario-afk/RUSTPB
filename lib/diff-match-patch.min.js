/* Minimal comparable patch lib (not the full Google DMP). 
   Provides conservative block matching used by patcher.js.
   If you prefer the full library, replace this file with the official diff-match-patch JS build.
*/
(function(root){
  function DmpLite(){}

  DmpLite.prototype.match_main = function(text, pattern){
    if (!text || !pattern) return -1;
    return text.indexOf(pattern);
  };

  DmpLite.prototype.diff_main = function(a, b){
    // Very minimal: line-based diff summary for potential future use
    var A = a.split('\n'), B = b.split('\n');
    var diffs = [];
    var i=0, j=0;
    while (i<A.length && j<B.length){
      if (A[i] === B[j]) { diffs.push([0, A[i]]); i++; j++; }
      else { diffs.push([-1, A[i]]); diffs.push([1, B[j]]); i++; j++; }
    }
    while (i<A.length) { diffs.push([-1, A[i++] ]); }
    while (j<B.length) { diffs.push([ 1, B[j++] ]); }
    return diffs;
  };

  root.diff_match_patch = DmpLite;
  root.DIFF_DELETE = -1;
  root.DIFF_INSERT = 1;
  root.DIFF_EQUAL = 0;
})(typeof window !== 'undefined' ? window : globalThis);